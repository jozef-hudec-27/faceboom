@import "partials/config";
@import "partials/utilities";

.comment {
    display: flex;
    gap: 8px;
    min-width: 340px;
    margin-right: 16px;

    &-delete-btn {
        opacity: 0;
        height: fit-content;
        align-self: center;
        margin-right: 12px;

        .dropdown-trigger { @extend %ellipsis-dropdown-trigger; }
        .dropdown-item { @extend %ellipsis-dropdown-item; }
    }

    &:hover &-delete-btn {
        opacity: 1;
    }

    a:hover {
        text-decoration: underline;
    }
    
    &-bubble {
        display: flex;
        flex-direction: column;
        background-color: rgb(240, 242, 245);
        padding: 8px 12px;
        border-radius: 16px;
        width: fit-content;
        position: relative;

        a {
            font-weight: 500;
            color: $dark-color;
        }

        i.fa-heart {
            font-size: 0.8em;
            color: white;
            background-color: rgb(233,35,70);
            padding: 4px; border-radius: 50%;
            position: absolute;
            right: -0.5em;
            bottom: -1em;

            .tooltiptext {
                width: 40px;
                margin-left: -25px;
            }
        }
    }

    &-actions {
        display: flex;
        font-size: 0.7em;
        gap: 12px;
        margin-left: 12px;

        a {
            font-weight: 500;
            color: rgb(74, 74, 74);
        }
    }
}

.comment-replies {
    margin-top: 16px;
}

turbo-frame > .post-comment-form-wrapper {
    margin-left: 12px;
}

.post-comment-form-wrapper {
    margin: auto;
    width: 90%;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 0;

    input[type="text"] {
        background-color: rgb(240,242,245);
        border: none;
        outline: none;
        box-shadow: none;
        height: 35px;
    }
}

.comment-replies-link {
    margin-left: 12px;
    font-size: 0.9em;
    color: rgb(74, 74, 74);
    font-weight: 500;
}

.comment-reply-form-wrapper {
    margin: 6px 0 0 12px;
    display: flex;
    gap: 4px;

    textarea {
        @extend %reset-appearance;
        background-color: rgb(240, 242, 245);
        padding: 10px 12px;
        border-radius: 16px;
        min-width: 100px;
        min-height: 25px;
    }
}

.comment-reply-form-wrapper, .post-comment-form-wrapper {
    input[type="submit"] {
        appearance: none;
        background-color: white;
        border: 2px solid darken($bg-color, 20%);
        color: darken($bg-color, 20%);
        font-weight: 500;
        border-radius: 9999px;
        padding: 4px 12px;
        cursor: pointer;

        &:hover {
            background-color: rgb(251, 251, 251);
        }

        &:active {
            transform: scale(0.98);
            background-color: $bg-color;
        }
    }
}
