<h1>Post details</h1>


<h4>By <%= @post.user.full_name %></h4>
<p><%= @post.body %></p>
<p><%= @post.likes.count %> likes</p>

<h5>Comments</h5>
<% @post.comments.each do |comment| %>
    <div class="comment">
        <h6><%= comment.user.full_name %></h6>
        <p><%= comment.body %></p>

        <%= turbo_frame_tag 'comment-reply-form' do %>
            <%= link_to 'Reply', comment_reply_path(comment.id) %>
        <% end %>

        <p><%= comment.comments.count %> replies</p>
    </div>
<% end %>

<h5>Add comment</h5>
<%= form_with model: @comment, url: post_comments_path(@post) do |f| %>
    <%= f.text_area :body %>
    <%= f.submit%>
<% end %>